services:
  nginx-api-gw-debug:
    container_name: nginx-api-gw-debug
    image: nginx-api-gw-debug:v1.0
    ports:
      - "8443:8443"
      - "80:80"
      - "443:443"
    volumes:
      - /etc/localtime:/etc/localtime
      - /etc/timezone:/etc/timezone
      - /home/apps/docker/nginx/webplatform/docker/nginx/nginx.conf:/etc/nginx/nginx.conf
      - /home/apps/docker/nginx/webplatform/docker/nginx/conf.d:/etc/nginx/conf.d
      - /home/apps/docker/nginx/webplatform/docker/nginx/logs:/var/log/nginx
      - /home/apps/docker/nginx/webplatform/docker/nginx/cache:/var/nginx/cache
      - /home/apps/docker/nginx/webplatform:/home/gvsun/webplatform
      - /home/apps/docker/nginx/webplatform/docker/nginx/code-server/config.yaml:/home/coder/.config/code-server/config.yaml
    command: ["bash", "/usr/local/bin/init.sh"]
    restart: always
    privileged: true
    networks:
      - 1panel-network

networks:
    1panel-network:
        external: true